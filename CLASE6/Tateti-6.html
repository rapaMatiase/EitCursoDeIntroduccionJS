<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /* 
        Queremso que se ejecute hasta que ;
        - Gane un juegador
        - Empate
        */

        let matrixTateti = [
                ["-", "-", "-"],
                ["-", "-", "-"],
                ["-", "-", "-"]
            ]
        let jugadasValidasRelizadas = 0
        let juegador = "x"
        let continuarJuagando = true
        do{

            console.table(matrixTateti)

            let coodI = prompt("Ingresa la posicon en I")
            let coodIconvertida = parseInt(coodI)
            let coodJ = prompt("Ingresa la posicon en J")
            let coodJconvertida = parseInt(coodJ)

            let comprobrarPosicionEstaVacia = matrixTateti[coodIconvertida][coodJconvertida] == "-"
            
            if(comprobrarPosicionEstaVacia){
                matrixTateti[coodIconvertida][coodJconvertida] = juegador
                //Contabilizo la juagada
                jugadasValidasRelizadas++


                //Ya se que el jugador juego, entonces cambio
                if(juegador == "x"){
                    juegador = "O"
                }else{
                    juegador = "x"
                }
            }

            //Ya jugo, ahora controlo si tengo un ganador!!.

            //PRIMERO CONTROLO LAS FILAS

            let hayAlgunaFilaCon3EnLinea = false //Supogo que no hasta encontrar lo contrio
            for(let i = 0; i < matrixTateti.length; i++){
                hayAlgunaFilaCon3EnLinea = (matrixTateti[i][0] == matrixTateti[i][1] && matrixTateti[i][0]==matrixTateti[i][2] && matrixTateti[i][1] == matrixTateti[i][2])
            }

            //SEGUNDO LAS COLUMNAS

            let hayAlgunaColumnaCon3EnLinea = false //Supogo que no hasta encontrar lo contrio
            for(let j = 0; j < matrixTateti.length; j++){
                hayAlgunaColumnaCon3EnLinea = (matrixTateti[0][j] == matrixTateti[1][j] && matrixTateti[0][j]==matrixTateti[2][j] && matrixTateti[1][j] == matrixTateti[2][j])
            }

            // TERCERO LAS DIAGONALES
            let hayAlunaDiagonalCon3EnLinea = false
            if(matrixTateti[0][0] == matrixTateti[1][1] && matrixTateti[0][0] == matrixTateti[2][2] && matrixTateti[1][1] == matrixTateti[2][2]){
                hayAlunaDiagonalCon3EnLinea = true
            }

            if(matrixTateti[0][2] == matrixTateti[1][1] && matrixTateti[0][2] == matrixTateti[2][0] && matrixTateti[1][1] == matrixTateti[2][0]){
                hayAlunaDiagonalCon3EnLinea = true
            }


            //TENGO GANADOR?
            let hayGanador = hayAlgunaFilaCon3EnLinea || hayAlgunaColumnaCon3EnLinea || hayAlunaDiagonalCon3EnLinea
            if(hayGanador){
                //Cuando llego aca, ya se paso de turno, por lo que gano el otro jugador.
                console.log(`TENGO UN GANADOR!! ${juegador == "x" ? "O" : "x"}`)
                continuarJuagando = false
            }

            // condicion logica ? "resutlado true " : "resultado del false"

            //EMPATE
            if(!hayGanador && jugadasValidasRelizadas == 9){
                console.log("EMAPATE")
                continuarJuagando = false
            }

        }while(continuarJuagando)
    </script>
</body>
</html>